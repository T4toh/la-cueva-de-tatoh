<div class="meal-list-container">
  <div class="header">
    <h1>Comidas</h1>
    <div class="actions-header">
      <button class="btn-secondary" (click)="printRecipes()">Imprimir</button>
      <a class="btn-add" routerLink="/meals/new">+Comida</a>
    </div>
  </div>

  <div class="grid">
    @for (meal of mealService.meals(); track meal.id) {
      <app-meal-card
        [meal]="meal"
        [showDelete]="true"
        [showDuplicate]="true"
        [showEdit]="true"
        (cardClick)="editMeal(meal.id)"
        (delete)="deleteMeal($event)"
        (duplicate)="duplicateMeal($event)"
        (edit)="editMeal($event)"
      />
    } @empty {
      <p class="empty-state">No hay comidas guardadas. ¡Creá una!</p>
    }
  </div>

  <div class="print-only-section">
    <h1>Recetario de Comidas</h1>
    <div class="print-meals">
      @for (meal of mealService.meals(); track meal.id) {
        <div class="print-meal-card">
          <h3>{{ meal.name }}</h3>
          @if (meal.description) {
            <p class="print-desc">
              <em>{{ meal.description }}</em>
            </p>
          }
          <ul class="print-ingredients">
            @for (ing of meal.ingredients; track ing.name) {
              <li>{{ ing.name }} - {{ ing.quantity }}</li>
            }
          </ul>
        </div>
      }
    </div>
  </div>
</div>
