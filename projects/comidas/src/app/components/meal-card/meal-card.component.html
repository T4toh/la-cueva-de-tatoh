<div class="meal-card" (click)="onCardClick()">
  <lib-panel
    [colorFondo]="'var(--color-2)'"
    [colorTexto]="'white'"
    [sombreado]="true"
    [texto]="meal.name"
  >
    <div class="meal-content-wrapper">
      <div class="meal-info">
        <ul class="ingredient-list">
          @for (ing of meal.ingredients; track ing.name) {
            <li>{{ing.name}} ({{ing.quantity}})</li>
          } @empty {
            <li>Sin ingredientes</li>
          }
        </ul>
        @if (meal.description) {
          <p class="description">{{ meal.description }}</p>
        }
      </div>

      @if (showEdit || showDelete || showDuplicate) {
        <div class="card-footer">
          <button *ngIf="showDuplicate" class="btn-icon" title="Duplicar" (click)="onDuplicate($event)">
              ğŸ“‘
          </button>
          <button *ngIf="showEdit" class="btn-icon" title="Editar" (click)="onEdit($event)">
              âœï¸
          </button>
          <button *ngIf="showDelete" class="btn-icon btn-delete" title="Eliminar" (click)="onDelete($event)">
              ğŸ—‘ï¸
          </button>
        </div>
      }
    </div>
  </lib-panel>
</div>